<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta HTTP-EQUIV=Cache-Control content=no-cache>
<meta name="author" content="S.V. Danilenko">
<meta http-equiv="refresh" content="360; URL=p05.html">
<title>Основы электроники и цифровой схемотехники</title>
<link href="../img/style02.css" rel="stylesheet" type="text/css">
</head>
<body oncopy="return false" onselectstart="return false">
<a name="ChapTop"></a>
<table width="98%" border="0" background="../img/bgkletka.gif" bgcolor="#FFFFFF">
  <tr>
    <td width="5%" height="58"><div align="center"></div></td>
    <td width="90%">&nbsp; <div align="center"><a href="../cont/ktp-el.html" title="Календарно-тематический план">К Т П</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <a href="p00.html">План занятия</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="../img/book.jpg" alt="1" width="59" height="44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Страницы&nbsp; | <a href="p01.html">1</a> | | <a href="p02.html">2</a> | | <a href="p03.html">3</a> | | 4 | | <a href="p05.html">5</a> | | <a href="p06.html">6</a> | | <a href="p07.html">7</a> | | <a href="p08.html">8</a> | | <a href="p09.html">9</a> |<br/>
    </div>
    <hr width="100%" size="5" noshade></td>
    <td width="5%"><div align="center"><form name="d"> <input type="text" size="4" name="d2"></form></div></td>
  </tr>
  <tr>
    <td height="79"><div align="center"></div></td>
    <td><div align="center">
      <h3>2.15.4.  Тактовый генератор для клавиатуры</h3>
    </div></td>
    <td><div align="center"></div></td>
  </tr>
  <tr>
    <td height="100%"><div align="center"></div></td>
    <td align="left" valign="top"><p>Оценим, какой должна быть частота тактового генератора. Мы приняли, что максимальная скорость нажатия равна 20 раз в секунду. Значит, за 1/20 секунды надо успеть опросить всю клавиатуру, то есть все 16 строк. Таким образом, минимально допустимая тактовая частота составляет 16•20 = <b>320 Гц</b>. Но надо заложить и запас на обработку дребезга контактов. Поэтому примем тактовую частоту опроса равной 400 Гц. Она может быть и больше, но чрезмерно увеличивать ее (например, выше 1 кГц) не стоит, так как при быстром переключении микросхем увеличивается потребляемый схемой ток. Понятно, что генератор должен быть не кварцевым, так как кварцевые резонаторы на низкие частоты не выпускаются, а делитель частоты резко усложнит схему. К тому же точная выдержка частоты генератора в данном случае совершенно не нужна. </p>
    <p>Выходной сигнал &quot;–Нажатие&quot;, конечно же, будет иметь короткие паразитные импульсы. Во-первых, они будут возникать из-за дребезга контактов нажатой в данный момент клавиши. Во-вторых, они могут появляться из-за переходных процессов при переключении счетчика и дешифратора. Эти паразитные импульсы надо исключать. Чтобы исключить действие паразитных импульсов из-за переходных процессов при переключении счетчика и дешифратора достаточно применить стробирование или тактирование сигнала &quot;–Нажатие&quot; в середине каждого тактового интервала. Для этого из схемы преобразователя надо вывести сигнал &quot;–Такт&quot;. Исключение коротких выходных импульсов из-за дребезга контактов клавиш сложнее. Прежде всего, на время нажатия клавиши целесообразно остановить опрос строк с помощью сигнала &quot;–Запрет&quot;. Затем надо обработать сигнал &quot;?Нажатие&quot; по принципу, показанному на рис. 39.1. Будем считать, что при дребезге контактов длительность кратковременного размыкания не превышает периода тактового генератора (2,5 мс при тактовой частоте 400 Гц). Тогда задержка окончания сигнала флага нажатия (см. рис. 39.1) должна быть не менее одного периода тактового сигнала. </p>
    <p>Для выработки задержки можно использовать цепочку триггеров, тактируемых сигналом &quot;–Такт&quot;. Схема выработки выходных сигналов клавиатуры приведена на рис. 39.5.</p></td>
    <td><div align="center"></div></td>
  </tr>
  <tr>
    <td height="100%"><div align="center"></div></td>
    <td align="center" valign="top"><img src="img/39-5.gif" width="499" height="191"><br><br>Рис. 39.5.  Схема выработки выходных сигналов клавиатуры.</td>
    <td><div align="center"></div></td>
  </tr>
  <tr>
    <td height="100%">&nbsp;</td>
    <td align="left" valign="top"><p>Триггер Т1 перебрасывается в единицу (на инверсном выходе) тогда, когда в середине тактового интервала (по положительному фронту сигнала &quot;–Такт&quot;) сигнал &quot;–Нажатие&quot; нулевой. Своим выходным сигналом триггер Т1 перебрасывает в единицу триггер Т2, который уже никак не связан с сигналом &quot;–Нажатие&quot;, не реагирует ни на какой дребезг этого сигнала. Выходной сигнал триггера Т2 используется в качестве сигнала флага нажатия клавиатуры. Инверсный сигнал с выхода триггера Т2 используется в качестве сигнала &quot;–Запрет&quot;, останавливающего опрос строк клавиатуры. </p>
      <p>Цепочка триггеров Т3 и Т4, тактируемая сигналом &quot;Такт&quot;, служит для задержки снятия сигнала флага после отпускания клавиши (когда сигнал &quot;–Нажатие&quot; становится равным единице). После установки флага в единицу, сигнал флага начинает записываться по фронту сигнала &quot;–Такт&quot; в триггеры Т3 и Т4, но только в том случае, когда сигнал &quot;–Нажатие&quot; установлен в единицу. В результате на инверсном выходе триггера Т4 появится сигнал логического нуля при нахождении сигнала &quot;–Нажатие&quot; в единице в моменты двух последовательных положительных фронтов сигнала &quot;–Такт&quot;. Сигнал с выхода Т4 сбрасывает сигнал флага в нуль, после чего вся схема переходит в исходное состояние и ждет следующего нулевого сигнала &quot;–Нажатие&quot;. Если кратковременное размыкание при дребезге контактов клавиш длится более 2,5 мс, то можно увеличить количество триггеров в последовательной цепочке (Т3 и Т4), что приведет к увеличению задержки снятия сигнала флага на целое число тактов генератора.</p>
    <p>&nbsp;</p></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td height="100%"><div align="center"></div></td>
    <td align="left" valign="top"><p>Таким образом, схема полностью разработана. Отметим, что низкая тактовая частота работы схемы позволяет нам не рассчитывать задержек микросхем, то есть использовать только первый уровень представления, логическую модель. А эффекты, связанные с переходными процессами при переключении микросхем, мы устранили, обеспечив временной сдвиг на половину периода генератора между тактовыми сигналами схемы преобразователя (рис. 39.4) и схемы выработки выходных сигналов (рис. 39.5). Все резисторы, примененные в указанных схемах, должны быть номиналом около <b>1 кОм</b>.</p>    </td>
    <td><div align="center"></div></td>
  </tr>
  <tr>
    <td><div align="center"></div></td>
    <td><div align="center">
      <hr width="100%" size="4" noshade>
      <a href='javascript:history.go(-1)'><img src="../img/nazad.jpg" alt="Предыдущая" width="31" height="20"></a>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <a href="p04.html#ChapTop"><img src="../img/vverh.gif" alt="В начало страницы" width="20" height="31"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="p05.html"><img src="../img/vpr.jpg" alt="Следующая" width="31" height="20"></a>
      
    </div></td>
    <td><div align="center">4</div></td>
  </tr>
</table>
</body>

<script>
var milisec=0
var seconds=0
document.d.d2.value='0'
function display(){
if (milisec>=9){
milisec=0
seconds+=1
}
else
milisec+=1
document.d.d2.value=seconds+"."+milisec
setTimeout("display()",100)
}
display()
</script>

</html>
