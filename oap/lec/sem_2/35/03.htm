<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>

<meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>Лекция | Структуры</title>

<link rel="stylesheet" type="text/css" href="../../../css/lec.css"></head><body>
<a name="#start"></a>
<table class="pages" align="center" border="0" cellpadding="0" cellspacing="0">
<tbody><tr colspan="5">
<td>&nbsp;&nbsp;<a href="../../../plan_2.htm" class="p">Календарно-тематический план</a>&nbsp;&nbsp;</td>
<td><a href="index.htm" class="p">&nbsp; План лекции &nbsp;</a></td>
<td><a href="01.htm" class="p">&nbsp; 1 &nbsp;</a></td>
<td><a href="02.htm" class="p">&nbsp; 2 &nbsp;</a></td>
<td><a href="03.htm" class="a">&nbsp; 3 &nbsp;</a></td>
<td><a href="04.htm" class="p">&nbsp; 4 &nbsp;</a></td>
<td><a href="05.htm" class="p">&nbsp; 5 &nbsp;</a></td>
<td><a href="06.htm" class="p">&nbsp; 6 &nbsp;</a></td>
</tr>
</tbody></table>
<!-- -------Inside table------- -->
<table border="0" cellpadding="5" cellspacing="0" width="98%">
<tbody><tr>
<td class="usual">
<p class="dbi" align="center"><br>Структурные объекты - массив структур</p>
<p>В библиотеке хранится множество книг. Для каждой книги, имеющейся в
библиотеке, необходимо указать название, фамилию автора, цену. <br>Каждую книгу можно описать структурной переменной типа book, 
<br>Для обработки нескольких книг потребуется массив структур.
</p><p>Процесс <span style="font-weight: bold;">описания массива структур</span> аналогичен описанию любого другого типа массива.
Например, для B = 100 экземпляров книг:
</p><pre>			const int B = 100;<br>			const int T = 60, A = 30;<br>			struct book<br>			{<br>				unsigned char tit[T];<br>				unsigned char aut[A];<br>				float val;<br>			};<br>			struct book lib [B];<br></pre>
<p>Оператор объявляет lib массивом, состоящим из B элементов.
Каждый элемент массива представляет собой структуру типа book.
</p><p>Рассмотрим на примере следующего списка книг:
</p><p><table align="center" border="1" cellpadding="5">
<tbody><tr><td>&nbsp; 
</td><td>
<b></b><center><b>Название книги</b></center>
</td><td><b></b><center><b>Фамилия автора</b></center>
</td><td><b></b><center><b>Цена</b></center>
</td></tr>
<tr><td><b></b><center><b>lib[0]</b></center>
</td><td> <center>lib[0].tit<br>Искусство программирования для ЭВМ</center>
</td><td> <center>lib[0].aut<br>Д. Кнут</center>
</td><td> <center>lib[0].val<br>1200</center>
</td></tr>
<tr><td><b></b><center><b>lib[1]</b></center>
</td><td> <center>lib[1].tit<br>ПЛ/1 для программистов</center>
</td><td> <center>lib[1].aut<br>Р.Скотт, Н.Сондак</center>
</td><td> <center>lib[1].val<br>900</center>
</td></tr>
<tr><td><b></b><center><b>lib[2]</b></center>
</td><td> <center>lib[2].tit<br>Язык программирования Си</center>
</td><td> <center>lib[2].aut<br>Б.Керниган, Д.Ритчи</center>
</td><td> <center>lib[2].val<br>300</center>
</td></tr>
<tr><td><b></b><center><b> ...</b></center>
</td><td> <center>...</center>
</td><td> <center>...</center>
</td><td> <center>...</center>
</td></tr>
<tr><td><b></b><center><b>lib[n]</b></center>
</td><td> <center>lib[n].tit</center>
</td><td> <center>lib[n].aut</center>
</td><td> <center>lib[n].val</center>
</td></tr>
<tr><td>  &nbsp;
</td><td> <b><i>Символьный массив</i></b>
</td><td> <b><i>Символьный массив</i></b>
</td><td> <b><i>Плавающий тип</i></b>
</td></tr>
</tbody></table>
</p><p>Каждый элемент массива lib представляет собой структуру типа book и распознается по индексу, как и в любом другом массиве.
В каждой из структур содержится три поля.
</p><p>При определении элементов массива структур применяются те же правила, что и для 
отдельных структур: сопровождаем имя структуры операцией получения элемента и именем элемента
</p><pre>		lib[0].val - val - первый элемент массива,<br>		lib[4].tit - tit - пятый элемент массива,<br>		lib[2].tit[4] - пятый элемент элемента tit (то есть tit[4] ) структуры типа book, <br>				описанный третьей структурой (то есть lib[2] )<br></pre>
<p>После объявления массива структур можно использовать его для разнообразных задач обработки данных.
<br>Например, для присвоения данных из одного элемента массива другому
(присвоить всем полям структуры lib[2] значения соответствующих полей структуры lib[4]):
</p><pre>		lib[2] = lib[4];<br></pre>
<p>Следующий оператор позволяет перемещать данные между отдельными
полями структур, копируя, например, строку lib[5].tit в строку
lib[1].tit
</p><pre>		strcpy(lib[1].tit, lib[5].tit);<br></pre>
<p>При желании можно даже обмениваться данными между отдельными элементами массивов, являющихся полями структур.
Следующий оператор копирует четвертый символ названия книги из записи lib[5] в третью позицию названия в записи lib[1].
</p><pre>		lib[1].tit[2] = lib[5].tit[3];<br></pre>
<p>Инициализация структур аналогична инициализациям массивов: за
определением следует список инициализаторов, заключенный в фигурные
скобки </p><pre>		struct book lib [B] = <br>			{	"Искусство программирования для ЭВМ", "Д. Кнут", 1200,<br>				"ПЛ/1 для программистов", "Р.Скотт, Н.Сондак", 900,<br>				"Язык программирования Си", "Б.Керниган, Д.Ритчи", 300 <br>			};<br></pre>
<p>Также значения можно ввести присваиванием и с клавиатуры. <br>
</p><p>С элементами массива структур можно производить различные операции. Например, 
средняя стоимость книги может быть вычислена:
</p><pre>		float sum = 0;<br>		for(num = 0; num &lt; col; num++)<br>			sum += lib[num].val;<br>		printf("Средняя цена книги = %f\n", sum / col);<br></pre>
<p>&nbsp;</p>
</td>
</tr>
</tbody></table>
<!-- -------End of Inside table------- -->
<table class="pages" align="center" border="0" cellpadding="0" cellspacing="0">
<tbody><tr colspan="5">
<td>&nbsp;&nbsp;<a href="../../../plan_2.htm" class="p">Календарно-тематический план</a>&nbsp;&nbsp;</td>
<td><a href="index.htm" class="p">&nbsp; План лекции &nbsp;</a></td>
<td><a href="01.htm" class="p">&nbsp; 1 &nbsp;</a></td>
<td><a href="02.htm" class="p">&nbsp; 2 &nbsp;</a></td>
<td><a href="03.htm" class="a">&nbsp; 3 &nbsp;</a></td>
<td><a href="04.htm" class="p">&nbsp; 4 &nbsp;</a></td>
<td><a href="05.htm" class="p">&nbsp; 5 &nbsp;</a></td>
<td><a href="06.htm" class="p">&nbsp; 6 &nbsp;</a></td>
</tr>
</tbody></table>
<a name="#end"></a>
</body></html>