<html>
<head>
<title>ОП | Для конспекта | Лекция № 39</title>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta http-equiv="Content-Language" content="ru">
<LINK REL=STYLESHEET TYPE="text/css" HREF="../css/style.css" title="style">
</head>
<body bgcolor="#ffffff" text="000066">
<p><center><table width="100%">
<tr bgcolor="#f3f3f3" class="author"><td align=center valign=top>Для конспекта
</td></tr>
<tr><td>
<p>&nbsp;</p>
<h2>Объединение разнотипных данных</h2>
<ol>
<p><li>Все элементы структуры размещаются в памяти подряд и сообща занимают столько места, сколько отведено структуре в целом.
</ol>
<p><img src="l41_01.gif" align="left" HSPACE=10 VSPACE=20>
<pre>
struct
{	long l;
	int i1, i2;
	char c[4];
} Str = {10, 20, 30, 'a', 'b', 'c', 'd'}; 
</pre>
<ol start="2">
<p><li>Объединение - это средство, позволяющее запоминать данные различных типов в одном и том же месте памяти.
<p><li>Назначение объединений - обеспечить возможность доступа к одному и тому же участку памяти с помощью объектов разных типов.
<p><li>Как и для структур, для объединений может быть введен объединяющий тип: 
<pre>
	union имя
	{
		элементы_объединения;
	};
</pre>
<p><li>Для обращения к элементу объединения можно использовать
<ul type="disc">
<li>либо уточненное имя: 
<pre>	имя_объединения<b>.</b>имя_элемента</pre>
<li>либо конструкцию, включающую указатель:
<pre>	указатель_на_объединение -> имя_элемента
	(*указатель_на_объединение).имя_элемента
</pre>
<p><li>либо конструкцию, включающую ссылку:
<pre>	ссылка_на_объединение.имя элемента</pre>
</ul>
<p><li>Все элементы объединения имеют один и тот же начальный адрес, размеры элементов соответствуют их типам, размер объединения определяется максимальным размером его элементов.
</ol>
<p><img src="l41_02.gif" align="left" HSPACE=30 VSPACE=5>
<pre>
union
{	
	double l; 
	int i1, i2;
	char c[6];
} Uni = { 34.9 };
</pre>
<ol start="7">
<p><li>При определении конкретных объединений разрешена их инициализация, причем инициализируется только первый элемент объединения.
<p><li>Как массивы, так и структуры могут быть элементами объединений.
<pre>
	struct P
	{
		char str[30];
		float b;
	};
	union
	{
		struct P f;
		unsigned long k;
		unsigned char h[34];
	} FKH = {"Значение строки для структуры", 2.87};
</pre>
</ol>
<p>&nbsp;</p>
</td></tr>
<tr bgcolor="#f3f3f3"><td align=center valign=top class="author">&copy;&nbsp;Ставропольский колледж связи, 2012
</td></tr><tr><td>
</table></center></p>
</body>
</html> 