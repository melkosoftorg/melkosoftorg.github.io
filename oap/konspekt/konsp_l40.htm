<html>
<head>
<title>ОП | Для конспекта | Лекция № 40</title>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta http-equiv="Content-Language" content="ru">
<LINK REL=STYLESHEET TYPE="text/css" HREF="../css/style.css" title="style">
</head>
<body bgcolor="#ffffff" text="000066">
<p><center><table width="100%">
<tr bgcolor="#f3f3f3" class="author"><td align=center valign=top>Для конспекта
</td></tr>
<tr><td>
<p>&nbsp;</p>
<h2>Битовые поля</h2>
<ol>
<p><li>Внутри структур и объединений могут в качестве их элементов использоваться битовые поля, которые не имеют адресов.
<p><li>Для битовых полей
<ul type="disc">
<li>не определена операция &,
<li>нет указателей и ссылок на битовые поля,
<li>они не могут объединяться в массивы. 
</ul>
<p><li>Назначение битовых полей - обеспечить удобный доступ к отдельным битам данных. 
<p><li>С помощью битовых полей можно формировать объекты с длиной внутреннего представления не кратной байту, что позволяет плотно "упаковывать" информацию и тем самым экономить память.
<p><li>Определение структуры с битовыми полями имеет формат: 
<pre>
	struct
	{
		тип_поля имя_поля <b>:</b> ширина_поля;
		тип_поля имя_поля <b>:</b> ширина_поля;
		<b>...</b> 
	} имя_структуры;
</pre>
<ul type="disc">
<li><i>тип_поля</i> - один из базовых целых типов int, char, short, long и их знаковые и беззнаковые варианты.
<li><i>имя_поля</i> - идентификатор, выбираемый пользователем.
<li><i>ширина_поля</i> - целое неотрицательное десятичное число, значение которого не должно превышать длины слова конкретной ЭВМ&nbsp;(0&nbsp;-&nbsp;16).
</ul>
<p>Например, 
<pre>
	struct Pop
	{	int x : 12; 
		char ch : 3;
		float y;
	} z, w[3], *k;
</pre>
<p>определяет структуру z, массив структур w, указатель на структуру k типа struct Pop с битовыми полями
<p><li>Элементами структуры могут быть как битовые поля, так и поля обычных типов. Битовые поля принято ставить в начале определения структуры, перед всеми остальными полями.
<p><li>Для обращения к битовым полям используются те же конструкции, что и для обращения к обычным элементам структур:
<ul type="disc">
<p><li>уточненное имя:
<pre>
	имя_структуры.имя_поля
</pre>
<li>конструкцию, включающую указатель:
<pre>
	(*указатель_на_структуру).имя_поля
	указатель_на_структуру -> имя_поля
</pre>
<li>конструкцию, включающую ссылку:
<pre>
	ссылка_на структуру.имя_поля
</pre>
</ul>
<p><li>Битовое поле длиной <b>n</b> бит может содержать число из диапазона от <b>0</b>&nbsp;до&nbsp;<b>2<sup>n&nbsp;-&nbsp;1</sup></b> включительно.
<p><li>В памяти ЭВМ поля могут размещаться как справа налево, так и слева направо, что зависит от реализации.
<p><li>Битовые поля в объединениях используются для доступа к нужным битам того или иного объекта, входящего в объединение.
</ol>
<p>&nbsp;</p>
</td></tr>
<tr bgcolor="#f3f3f3"><td align=center valign=top class="author">&copy;&nbsp;Ставропольский колледж связи, 2012
</td></tr><tr><td>
</table></center></p>
</body>
</html> 