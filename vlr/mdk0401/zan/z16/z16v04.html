<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta content="text/html; charset=Windows-1251" http-equiv="content-type"><title>Динамические диаграммы</title></head><body>
<div style="text-align: center;">[ <a href="../../ktp.html">Тематический
план </a>]
[<span style="font-size: 12pt; line-height: 115%; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;"> </span><a href="z16v00.html">Архитектура программного обеспечения<span style="font-size: 12pt; line-height: 115%; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;"></span></a><span style="font-size: 12pt; line-height: 115%; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;"> </span>] [ <a href="z16v01.html">1
</a>] [<a href="z16v02.html"> 2</a>
] [ <a href="z16v03.html">3</a>
] [ 4
]




</div>







<hr>
<div style="text-align: center;">
<div style="text-align: center;">

</div>

<h4>Динамические диаграммы</h4>



</div>



<p class="MsoNormal" style="margin-left: 0cm; text-indent: 0cm; line-height: normal;">

</p>


<p class="MsoNormal" style="margin-left: 0cm; text-indent: 0cm; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Динамические диаграммы описывают происходящие в
системе процессы. К ним относятся <b>диаграммы деятельности, сценариев</b>, диаграммы взаимодействия и <b>диаграммы состояний</b>.<o:p></o:p></span></p>


<ul type="disc">
<li class="MsoNormal" style="margin-left: 36pt; text-indent: -18pt; line-height: normal;"><b><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Диаграммы
     деятельности (activity diagrams)</span></b><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;"> иллюстрируют набор процессов-деятельностей и
     потоки данных между ними, а также возможные их синхронизации друг с
     другом.<o:p></o:p></span></li>
</ul>


<p class="MsoNormal" style="margin-left: 36pt; text-indent: 0cm; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Деятельность изображается в виде прямоугольника с
закругленными сторонами, слева и справа, помеченного именем деятельности.<o:p></o:p></span></p>


<p class="MsoNormal" style="margin-left: 36pt; text-indent: 0cm; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Потоки данных показываются в виде стрелок.
Синхронизации двух видов — <b>развилки (forks)</b> и <b>слияния (joins)</b> —
показываются жирными короткими линиями (кто-то может посчитать их и тонкими
закрашенными прямоугольниками), к которым сходятся или от которых расходятся
потоки данных. Кроме синхронизаций, на диаграммах деятельности могут быть
показаны разветвления потоков данных, связанных с выбором того или иного
направления в зависимости от некоторого условия. Такие разветвления
показываются в виде небольших ромбов.<o:p></o:p></span></p>


<p class="MsoNormal" style="margin-left: 36pt; text-indent: 0cm; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Диаграмма может быть поделена на несколько
горизонтальных или вертикальных областей, называемых дорожками (swimlanes).
Дорожки служат для группировки деятельностей в соответствии с выполняющими их
подразделением организации, ролью, приложением, подсистемой и пр.<o:p></o:p></span></p>


<p class="MsoNormal" style="margin-left: 36pt; text-indent: 0cm; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Диаграммы деятельности могут заменять часто
используемые диаграммы потоков данных (см. лекцию 4),
поэтому применяются достаточно широко. Пример такой диаграммы показан на <span style="color: black;">рис.16.9</span></span><br>
</p>
<p class="MsoNormal" style="margin-left: 36pt; text-indent: 0cm; line-height: normal; text-align: center;"><img style="width: 616px; height: 552px;" alt="" src="16_9.gif"></p>
<p class="MsoNormal" style="margin-left: 36pt; text-indent: 0cm; line-height: normal; text-align: center;"><b>Рис.
                            16.9.
                        </b>Диаграмма активности
</p>


<span style="font-weight: bold;" class="keyword_def"><span class="keyword">Диаграммы сценариев</span></span>  <b>(или диаграммы последовательности, sequence diagrams)</b>
  показывают возможные сценарии обмена сообщениями или вызовами во 
времени между различными компонентами системы (здесь имеются в виду 
архитектурные компоненты, компоненты в широком смысле — это могут быть 
компоненты развертывания, обычные объекты, подсистемы и пр.). Эти 
диаграммы являются подмножеством специального графического языка — языка
 диаграмм <b>последовательностей сообщений (Message Sequence Charts, MSC)</b>, который был придуман раньше UML и достаточно долго развивается параллельно ему.
<p id="id_234">Компоненты,
 участвующие во взаимодействии, изображаются прямоугольниками вверху 
диаграммы. От каждого компонента вниз идет вертикальная линия, 
называемая его <b>линией жизни</b>. Считается, что ось времени 
направлена вертикально вниз. Интервалы времени, в которые компонент 
активен, т.е. управление находится в одной из его операций, представлены
 тонким прямоугольником, для которого линия жизни компонента является 
осью симметрии.<br>
</p>
<p style="text-align: center;" id="id_234"><img style="width: 620px; height: 326px;" alt="" src="16_10.gif"></p>
<p style="text-align: center;" id="id_234"><b>Рис.
                            16.10.
                        </b>Пример диаграммы сценария открытия счета
</p>

<p id="id_236">Передача сообщения или вызов изображаются стрелкой от 
компонента-источника к компоненту-приемнику. Возврат управления показан 
пунктирной стрелкой, обратной к соответствующему вызову.</p>


<p id="id_237">Эти диаграммы используются достаточно часто, например, 
при детализации сценариев, входящих в варианты использования. Пример 
такой диаграммы изображен на рис. 16.10.</p>
<p id="id_237"><span style="font-weight: bold;" class="keyword_def"><span class="keyword">Диаграммы взаимодействия (collaboration diagrams)</span></span>  показывают ту же информацию, что и <span class="keyword">диаграммы сценариев</span>,
но привязывают обмен сообщениями/вызовами не к времени, а к связям
между компонентами. Пример такой диаграммы представлен на рис. 16.11.<br>
</p>
<p style="text-align: center;" id="id_237"><img style="width: 620px; height: 249px;" alt="" src="16_11.gif"></p>
<p style="text-align: center;" id="id_237"><b>Рис.
                            16.11.
                        </b>Диаграмма взаимодействия, соответствующая диаграмме сценария на рис. 6.10
</p>

<p id="id_240">На диаграмме изображаются компоненты в виде 
прямоугольников и связи между ними. Вдоль связей могут передаваться 
сообщения, показываемые в виде небольших стрелок, параллельных связи. 
Стрелки нумеруются в соответствии с порядком происходящих событий. 
Нумерация может быть иерархической, чтобы показать вложенность действий 
друг в друга (т.е. если вызов некоторой операции имеет номер 1, то 
вызовы, осуществляемые при выполнении этой операции, будут нумероваться 
как 1.1, 1.2, и т.д.).</p>


<p id="id_241"><span class="keyword">Диаграммы взаимодействия</span>  используются довольно редко.</p>



<b>Диаграммы состояний (statechart diagrams)</b>  показывают возможные 
состояния отдельных компонентов или системы в целом, переходы между ними
 в ответ на какие-либо события и выполняемые при этом действия.
<p id="id_243">Состояния
 показываются в виде прямоугольников с закругленными углами, переходы — в
 виде стрелок. Начальное состояние представляется как небольшой темный 
кружок, конечное — как пустой кружок с концентрически вложенным темным 
кружком. Вы могли обратить внимание на темный кружок на диаграмме 
деятельности на рис. 16.9
 — он тоже изображает начальное состояние: дело в том, что диаграммы 
деятельности являются диаграммами состояний специального рода, а 
деятельности — частный случай состояний. Пример диаграммы состояний 
приведен на рис. 16.12.</p>


<p id="id_244">Состояния могут быть устроены иерархически: они могут 
включать в себя другие состояния, даже целые отдельные диаграммы 
вложенных состояний и переходов между ними. Пребывая в таком состоянии, 
система находится ровно в одном из его <b>подсостояний</b>. На рис. 6.12 почти все изображенные состояния являются подсостояниями состояния <span class="texample">Site</span>. Кроме того, в нижней части диаграммы три состояния объединены, чтобы показать, что переход по действию <span class="texample">cancel</span>  возможен в каждом из них и приводит в одно и то же состояние <span class="texample">Basket</span>.<br>
</p>
<p style="text-align: center;" id="id_237"><img style="width: 620px; height: 779px;" alt="" src="16_12.gif"></p>
<p style="text-align: center;" id="id_237"><b>Рис.
                            6.12.
                        </b>Пример диаграммы состояний, моделирующей сайт Интернет-магазина
</p>

<p id="id_249">Состояние может декомпозироваться и на <b>параллельные подсостояния</b>.
 Они изображаются как области внутри объемлющего состояния, разделенные 
пунктирными линиями, их аналогом на диаграммах деятельности являются 
дорожки. Пребывая в объемлющем состоянии, система должна находиться 
одновременно в каждом из его параллельных подсостояний.</p>


<p id="id_250">Помимо показанных на диаграмме состояний изображаемая 
подсистема может иметь глобальные (в ее рамках) переменные, хранящие 
какие-то данные. Значения этих переменных являются общими частями всех 
изображаемых состояний.</p>


<p id="id_251">На рис. 16.12 примерами переменных являются список видимых пользователем товаров, <span class="texample">items</span>, и набор уже отобранных товаров с количеством для каждого, корзина, <span class="texample">basket</span>.</p>


<p id="id_254">Переходы могут происходить между состояниями одного уровня, но могут также вести из некоторого состояния в <span class="keyword">подсостояние</span> соседнего или, наоборот, из <span class="keyword">подсостояния</span> в некоторое состояние, находящее на том же уровне, что и объемлющее состояние.</p>


<p id="id_255">На переходе между состояниями указываются следующие данные:</p>


<ul id="id_256">
<li>
<b>Событие</b>, приводящее к выполнению этого перехода. Обычно событие —
 это вызов некоторой операции в одном из объектов или приход некоторого 
сообщения, хотя могут указываться и абстрактные события.<p id="id_258">Например, из состояния <span class="texample">Categories</span>  на рис. 16.12 можно выйти, выполнив команду браузера "Назад". Она соответствует событию <span class="texample">back</span>, инициирующему переход в состояние <span class="texample">Start page</span>. Другой переход из состояния <span class="texample">Categories</span>
  происходит при выборе категории товаров пользователем. Соответствующее
 событие имеет параметр — выбранную категорию. Оно изображено как <span class="texample">choose(category)</span>.</p>

</li><li>
<b>Условие выполнения (охранное условие, guardian)</b>. Это условие, 
зависящее от параметров события и текущих значений глобальных 
переменных, выполнение которого необходимо для выполнения перехода. При 
наступлении нужного события переход выполняется, только если его условие
 тоже выполнено.<p id="id_265">Условие перехода показывается в его метке в квадратных скобках.</p>

<p id="id_266">На рис. 38 примером условного перехода является переход из состояния <span class="texample">Basket</span>  в состояние <span class="texample"><span class="keyword">Payment</span> Method</span>.
 Он выполняется, только если пользователь выполняет команду "Оплатить" 
(событие buy) и при этом в его корзине есть хотя бы один товар.</p>

</li><li>
<b>Действие</b>, выполняемое в дополнение к переходу между состояниями. 
Обычно это вызовы каких-то операций и изменения значения глобальных 
переменных.<p id="id_270">Действие показывается в <span class="keyword">метке перехода</span> после слеша (символа ‘ <span class="texample">/</span> ’). При этом изменения значений переменных перечисляются в начале, затем, после знака ‘ <span class="texample">^</span> ’, указывается вызов операции.</p>

<p id="id_273">Например, на рис. 6.12 при выборе пользователем категории товаров происходит переход из состояния <span class="texample">Categories</span>  в <span class="texample">Items list</span>. При этом список товаров, видимый пользователю, инициализируется списком товаров выбранной категории.</p>

</li>
</ul>


<p id="id_276">Диаграммы состояний используются часто, хотя требуется 
довольно много усилий, чтобы разработать их с достаточной степенью 
детальности.</p>
<p class="MsoNormal" style="margin-left: 36pt; text-indent: 0cm; line-height: normal;"><br>
<span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;"><span style="color: black;"></span><span style="text-decoration: underline;"></span><o:p></o:p></span></p>


<p class="MsoNormal" style="margin-left: 0cm; text-indent: 0cm; line-height: normal;"><br>
<span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;"></span></p>
<p class="MsoNormal" style="margin-left: 0cm; text-indent: 0cm; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;"><br>
</span></p>

  

</body></html>