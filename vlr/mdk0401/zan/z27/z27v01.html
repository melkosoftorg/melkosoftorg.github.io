<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><meta content="text/html; charset=Windows-1251" http-equiv="content-type"><title>Структура</title></head><body><a href="z27v00.html">назад</a><br><br>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><b><span style="font-size: 14pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Структура unix-систем<o:p></o:p></span></b></p>


<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">&nbsp; &nbsp; Linux - это современная POSIX-совместимая и
Unix-подобная операционная система для персональных компьютеров и рабочих
станций. Linux — это операционная система, сконструированная, в основном, по
модульному принципу, от ядра (центрального "мозга" Linux) до приложений.
В Linux практически нет нерасторжимых связей между какими-либо компонентами.<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Это многопользовательская сетевая операционная система
с сетевой оконной графической системой X Window System. ОС Linux поддерживает
стандарты открытых систем и протоколы сети Internet и совместима с системами
Unix, DOS, MS Windows. Все компоненты системы, включая исходные тексты,
распространяются с лицензией на свободное копирование и установку для
неограниченного числа пользователей. <o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Разработка ОС Linux выполнена Линусом Торвалдсом из
университета Хельсинки и не поддающейся подсчету обширной командой из тысяч
пользователей сети Internet, сотрудников исследовательских центpов, фондов,
унивеpситетов и т.д.</span></p><p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">&nbsp; &nbsp; Структуру UNIX проще всего представить в виде двух
слоев. Первым является ядро. Оно непосредственно взаимодействует с железом и
обеспечивает переносимость всего остального ПО на компьютеры с разным
аппаратным обеспечением. Ядро предоставляет программам определенный набор
системных API (application programming interfaces – интерфейсы программирования
приложений), с помощью которых производятся создание процессов, управление ими,
их взаимодействие и синхронизация, а также файловый ввод/вывод. Вторым слоем является
программное обеспечение, прикладное или системное: командный интерпретатор,
графическая оболочка и т. д.</span></p><div style="text-align: center;"><img style="width: 238px; height: 220px;" alt="" src="pic/27_01.png"><br></div><p class="MsoNormal" style="text-align: center; line-height: normal;" align="center"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Рис. 1.&nbsp; Структура операционной среды<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: center; line-height: normal;" align="center"><b><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Ядро</span></b><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;"><o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Центром ОС является менеджер ресурсов и планировщик
задач. Функции этих частей системы востребованы, пока есть хоть одна задача (т.
е. всегда), и к тому же работают в режиме супервизора. Ядро постоянно находится
в памяти, обслуживая непрерывный поток запросов на использование универсальных
ресурсов системы: памяти и времени. В ядро, также входит и реализация сетевых
протоколов (были попытки выделить стек протоколов TCP/IP в отдельный модуль, но
это многократно снижает производительность, поскольку реализация некоторых
особенностей TCP/IP, как ни странно, требует жесткой привязки к внешним
устройствам и структурам ядра). Ядро UNIX-систем предоставляет программам
пользователя унифицированный интерфейс к ресурсам компьютера (так называемые
системные вызовы, system calls) и содержит всю непростую логику распределения
ресурсов по задачам, которые в UNIX-системах называются процессами.<o:p></o:p></span></p>

<span style="font-size: 12pt; line-height: 115%; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">На самом деле далеко не все, что работает в режиме
ядра (супервизора), обязано присутствовать в конкретной системе, запущенной на
конкретном компьютере. Функции, отвечающие за работу с самыми разнообразными
внешними устройствами (которые&nbsp; </span><p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">отличаются логикой работы), бессмысленно включать в
ядро все сразу. Отдельно взятый компьютер не содержит и сотой части всех
устройств, поддерживаемых системой. Более того, зачастую весьма трудно
автоматически определить марку устройства, подключенного к системе; еще
труднее, не имея обширнейшей базы данных по всем устройствам, определить,
какому из известных устройств соответствует найденное системой неизвестное, и
вообще соответствует ли (т. е. можно ли с ним работать как с несколько иным, но
известным). А вот администратору системы достаточно для этого посмотреть
маркировку на самой плате или почитать документацию. <o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Драйверы включаются в состав ядра, если
соответствующие им устройства входят (или могут входить) в состав компьютера.
Одни драйверы (скажем, шины PCI) есть в системе почти всегда, другие написаны
специально для контроллера какого-нибудь экзотического устройства. Существуют
драйверы, которые не являются интерфейсной частью внешнего устройства, а
реализуют дополнительную функциональность самой системы (скажем, драйвер
файловой системы ISO9660, которая используется на лазерных дисках).<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">В старых версиях UNIX все драйверы приходилось заранее
<b>прикомпоновывать</b> к ядру. Процесс компиляции ядра системы из исходных
текстов или компоновки его из объектных модулей носит название <b>сборки
(пересборки) ядра</b> и во многих системах практикуется и по сей день.<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">С увеличением размеров оперативной памяти отпала
необходимость экономить байты на сборке ядра, в точности соответствующего
имеющемуся профилю оборудования. Разработчики стараются собрать ядро,
содержащее драйверы всех самых популярных устройств, чтобы оно, не занимая <b>слишком
много</b> памяти, могло управлять системой на подавляющем большинстве
компьютеров. Такое ядро называется <b>базовым</b> (generic). Поскольку для
пересборки ядра необходимы многие знания (как минимум, нужно разбираться в
архитектуре используемой версии UNIX, в архитектуре ЭВМ и в особенности внешних
устройств), а нужда в этом может возникнуть при первой же установке системы,
хорошо укомплектованное базовое ядро во многом облегчает жизнь неопытному
пользователю.<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">К основным функциям ядра ОС UNIX принято относить
следующие: <o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">1) <i>Инициализация системы</i> – функция запуска и
раскрутки. Ядро системы обеспечивает средство раскрутки (bootstrap), которое
обеспечивает загрузку полного ядра в память компьютера и запускает ядро.<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">2) <i>Управление процессами и нитями</i> – функция
создания, завершения и отслеживания существующих процессов и нитей
("процессов", выполняемых на общей виртуальной памяти). Поскольку ОС
UNIX является мультипроцессной операционной системой, ядро обеспечивает
разделение между запущенными процессами времени процессора (или процессоров в
мультипроцессорных системах) и других ресурсов компьютера для создания внешнего
ощущения того, что процессы реально выполняются в параллель.<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">3) <i>Управление памятью</i> – функция отображения
практически неограниченной виртуальной памяти процессов в физическую
оперативную память компьютера, которая имеет ограниченные размеры.
Соответствующий компонент ядра обеспечивает разделяемое использование одних и
тех же областей оперативной памяти несколькими процессами с использованием
внешней памяти. <o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">4) <i>Управление файлами</i> – функция, реализующая
абстракцию файловой системы, - иерархии каталогов и файлов. Файловые системы ОС
UNIX поддерживают несколько типов файлов. Некоторые файлы могут содержать
данные в формате ASCII, другие будут соответствовать внешним устройствам. В файловой
системе хранятся объектные файлы, выполняемые файлы и т.д. Файлы обычно
хранятся на устройствах внешней памяти; доступ к ним обеспечивается средствами
ядра. В мире UNIX существует несколько типов организации файловых систем.
Современные варианты ОС UNIX одновременно поддерживают большинство типов
файловых систем.<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">5) <i>Коммуникационные средства</i> – функция,
обеспечивающая возможности обмена данными между процессами, выполняющимися
внутри одного компьютера (IPC - Inter-Process Communications), между процессами,
выполняющимися в разных узлах локальной или глобальной сети передачи данных, а
также между процессами и драйверами внешних устройств.<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">6) <i>Программный интерфейс</i> – функция,
обеспечивающая доступ к возможностям ядра со стороны пользовательских процессов
на основе механизма системных вызовов, оформленных в виде библиотеки функций.<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">В любой операционной системе поддерживается некоторый
механизм, который позволяет пользовательским программам обращаться за услугами
ядра ОС. В ОС UNIX такие средства называются системными вызовами. <o:p></o:p></span></p>


<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;">Ядро Linux поддерживает модульные драйверы, но в
значительной мере является монолитным ядром, потому что сервисы в этом ядре
взаимозависимы. Все отрицательные последствия монолитности минимизируются тем,
что ядро Linux, насколько это возможно, разработано как наименьшая часть
системы. Linux почти фанатично придерживается следующего принципа: "Если
задача может быть выполнена вне ядра, она должна быть выполнена вне ядра".
Это означает, что в Linux почти каждая полезная функция ("полезная"
означает "воспринимаемая конечным пользователем") не имеет доступа к
уязвимым частям системы Linux.</span></p><h1 style="text-align: justify;"><small>Модули ядра</small></h1>

<p style="text-align: justify;">Если базового ядра все-таки недостаточно, в
современных системах многие драйверы можно загружать <b>динамически</b>, из
модулей ядра. Ядро, уже работающее в памяти, можно дополнить, загрузив такой
модуль из файла специального формата, после чего перекомпоновать ядро на ходу
(специальным компоновщиком). В эти модули можно вынести необязательные
функциональности системы (например, фильтрацию сетевых пакетов), после чего
базовое ядро станет еще меньше, однако процесс загрузки усложнится, так как
некоторые из подгружаемых модулей понадобятся ядру уже при старте системы,
когда доступа к файлам может и не быть. Типичный пример: для работы с диском
ядру нужен драйвер дискового массива (RAID-контроллера), который вместе с
программой загрузки и компоновки модулей на этом массиве и находится. Разные
системы выходят из этой ситуации по-разному.</p>



<p style="text-align: justify;">Модули ядра работают в <b>режиме ядра</b>,
поэтому обращаться с ними следует крайне осторожно: ошибка в таком модуле
(скажем, запись неизвестно чего неизвестно куда в память) столь же фатальна,
как и ошибка ядра, и в лучшем случае вызовет крах системы (в худшем случае
система ее заметит не сразу). Функции модулей с точки зрения ОС совпадают с
функциями ядра: организация интерфейса к ресурсам и дополнительная логика
работы системы.<b><o:p>&nbsp;</o:p></b></p>

<p style="text-align: justify;"><b>Демоны</b></p>

<p style="text-align: justify;">Демон (англ. daemon) — в системах класса UNIX —
программа, работающая в фоновом режиме без прямого общения с пользователем.</p>

<p style="text-align: justify;">Демоны обычно запускаются во время загрузки
системы. Типичные задачи демонов — серверы сетевых протоколов (HTTP, FTP,
электронная почта и др.), управление оборудованием, поддержание очередей
печати, управление выполнением по расписанию и подобные задачи. В техническом
смысле, демоном считается процесс, предком которого является init — корневой
процесс UNIX.</p>

<p style="text-align: justify;">Иногда слово daemon интерпретируют как акроним
англ. Disk and execution monitor. В системах Windows аналогичный класс программ
называется «Службы» (англ. Services), которые, впрочем, тоже иногда называют
демонами.</p>
<p class="MsoNormal" style="text-align: justify; line-height: normal;"><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;,&quot;serif&quot;;"><o:p></o:p></span></p>
</body></html>